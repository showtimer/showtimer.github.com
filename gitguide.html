<!DOCTYPE html>
<!--
  m2d: Simplifed HTML5 slide
  Authors: Suredream (code)
  Based on Google HTML 5: http://code.google.com/p/html5slides/
-->
<html>
  <head>
    <title>Test</title>
    <meta charset='utf-8'>
    <script src='js/slides.js'></script>
    <script src='js/prettify.js'></script>
    <link rel="stylesheet" href="theme/base.css">
    <link rel="stylesheet" href="theme/m2d-web20.css">
  </head>

  <style>
  article.steve { background-image: url(images/steve-jobs.jpg); }


  </style>

  <body style='display: none'>
    <section class='slides'>


<article class='fill'>

<h1>git - 简易指南</h1>

<h3>助你开始使用 git 的简易指南，木有高深内容，;)。</h3>

<p>原作：<a href="http://www.twitter.com/rogerdudler">罗杰·杜德勒</a></p>

<p>幻灯片制作：<a href="http://suredream.github.com">suredream</a></p>

<p>感谢：<a href="http://www.twitter.com/tfnico">@tfnico</a>, <a href="http://www.twitter.com/fhd">@fhd</a> and <a href="http://www.namics.com/">Namics</a></p>

<p>如有纰漏，请到 <a href="https://github.com/rogerdudler/git-guide/issues">github</a> 填报</p>

</article>

<article class='fill'>

<h2>安装</h2>

<ul>
<li><a href="http://code.google.com/p/git-osx-installer/downloads/list?can=3">下载 git OSX 版</a></li>
<li><a href="http://code.google.com/p/msysgit/downloads/list?can=3">下载 git Windows 版</a></li>
<li><a href="http://book.git-scm.com/2_installing_git.html">下载 git Linux 版</a></li>
</ul>


</article>

<article>

<h2>创建新仓库</h2>

<p>创建新文件夹，打开，然后执行</p>

<pre><code>git init
</code></pre>

<p>以创建新的 git 仓库。</p>

</article>

<article>

<h2>检出仓库</h2>

<p>执行如下命令以创建一个本地仓库的克隆版本：</p>

<pre><code>git clone /path/to/repository
</code></pre>

<p>如果是远端服务器上的仓库，你的命令会是这个样子：</p>

<pre><code>git clone username@host:/path/to/repository
</code></pre>

</article>

<article>

<h2>工作流</h2>

<p>你的本地仓库由 git 维护的三棵“树”组成:
- 第一个是你的 <strong>工作目录</strong>，它持有实际文件；
- 第二个是 <strong>缓存区（Index）</strong>，它像个缓存区域，临时保存你的改动
- 最后是 <strong> HEAD</strong> **，指向你最近一次提交后的结果。</p>

<p><img src="http://rogerdudler.github.com/git-guide/img/trees.png" alt="" /></p>

</article>

<article>

<h2>添加与提交</h2>

<p>你可以计划改动（把它们添加到缓存区），使用如下命令：</p>

<pre><code>git add &lt;filename&gt;
git add *
</code></pre>

<p>这是 git 基本工作流程的第一步；使用如下命令以实际提交改动：</p>

<pre><code>git commit -m "代码提交信息"
</code></pre>

<p>现在，你的改动已经提交到了 HEAD，但是还没到你的远端仓库。</p>

</article>

<article>

<h2>推送改动</h2>

<p>你的改动现在已经在本地仓库的 <strong>HEAD</strong> 中了。执行如下命令以将这些改动提交到远端仓库：</p>

<pre><code>git push origin master
</code></pre>

<p>可以把 <em>master</em> 换成你想要推送的任何分支。
如果你还没有克隆现有仓库，并欲将你的仓库连接到某个远程服务器，你可以使用如下命令添加：</p>

<pre><code>git remote add origin &lt;server&gt;
</code></pre>

<p>如此你就能够将你的改动推送到所添加的服务器上去了。</p>

</article>

<article>

<h2>分支</h2>

<p>分支是用来将特性开发绝缘开来的。在你创建仓库的时候，master 是“默认的”。在其他分支上进行开发，完成后再将它们合并到主分支上。
<img src="http://rogerdudler.github.com/git-guide/img/branches.png" alt="" /></p>

<p>创建一个叫做“feature_x”的分支，并切换过去：</p>

<pre><code>git checkout -b feature_x
</code></pre>

<p>切换回主分支：</p>

<pre><code>git checkout master
</code></pre>

<p>再把新建的分支删掉：</p>

<pre><code>git branch -d feature_x
</code></pre>

<p>除非你将分支推送到远端仓库，不然该分支就是 不为他人所见的：</p>

<pre><code>git push origin &lt;branch&gt;
</code></pre>

</article>

<article>

<h2>更新与合并</h2>

<p>要更新你的本地仓库至最新改动，执行：</p>

<pre><code>git pull
</code></pre>

<p>以在你的工作目录中 获取（fetch） 并 合并（merge） 远端的改动。</p>

<p>要合并其他分支到你的当前分支（例如 master），执行：</p>

<pre><code>git merge &lt;branch&gt;
</code></pre>

<p>两种情况下，git 都会尝试去自动合并改动。不幸的是，自动合并并非次次都能成功，并可能导致 冲突（conflicts）。 这时候就需要你修改这些文件来人肉合并这些 冲突（conflicts） 了。改完之后，你需要执行如下命令以将它们标记为合并成功：</p>

<pre><code>git add &lt;filename&gt;
</code></pre>

<p>在合并改动之前，也可以使用如下命令查看：</p>

<pre><code>git diff &lt;source_branch&gt; &lt;target_branch&gt;
</code></pre>

</article>

<article>

<h2>标签</h2>

<p>在软件发布时创建标签，是被推荐的。这是个旧有概念，在 SVN 中也有。可以执行如下命令以创建一个叫做 1.0.0 的标签：</p>

<pre><code>git tag 1.0.0 1b2e1d63ff
</code></pre>

<p>1b2e1d63ff 是你想要标记的提交 ID 的前 10 位字符。使用如下命令获取提交 ID：</p>

<pre><code>git log
</code></pre>

<p>你也可以用该提交 ID 的少一些的前几位，只要它是唯一的。</p>

</article>

<article>

<h2>替换本地改动</h2>

<p>假如你做错事（自然，这是不可能的），你可以使用如下命令替换掉本地改动：</p>

<pre><code>git checkout -- &lt;filename&gt;
</code></pre>

<p>此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到缓存区的改动，以及新文件，都不受影响。
假如你想要丢弃你所有的本地改动与提交，可以到服务器上获取最新的版本并将你本地主分支指向到它：</p>

<pre><code>git fetch origin
git reset --hard origin/master
</code></pre>

</article>

<article>

<h2>有用的tips</h2>

<p>内建的图形化 git：</p>

<pre><code>gitk
</code></pre>

<p>彩色的 git 输出：</p>

<pre><code>git config color.ui true
</code></pre>

<p>显示历史记录时，只显示一行注释信息：</p>

<pre><code>git config format.pretty oneline
</code></pre>

<p>交互地添加文件至缓存区：</p>

<pre><code>git add -i
</code></pre>

</article>

<article>

<h2>链接与资源</h2>

<h3>图形化界面</h3>

<ul>
<li><a href="http://gitx.laullon.com/">GitX (L) (OSX, open source)</a></li>
<li><a href="http://www.git-tower.com/">Tower (OSX)</a></li>
<li><a href="http://www.sourcetreeapp.com">Source Tree (OSX, free)</a></li>
<li><a href="http://mac.github.com/">GitHub for Mac (OSX, free</a></li>
</ul>


<h3>指南与手册</h3>

<ul>
<li><a href="http://book.git-scm.com/">Git 社区参考书</a></li>
<li><a href="http://progit.org/book/">专业 Git</a></li>
<li><a href="http://think-like-a-git.net/">如 git 思考</a></li>
<li><a href="http://help.github.com/">GitHub 帮助</a></li>
<li><a href="http://marklodato.github.com/visual-git-guide/index-en.html">图形化的 Git 指南一则</a></li>
</ul>



</article>

    </section>
  </body>
</html>
